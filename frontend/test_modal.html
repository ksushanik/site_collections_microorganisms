<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üß¨ –¢–µ—Å—Ç –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ —à—Ç–∞–º–º–∞ - –°–ò–§–ò–ë–†</title>
    <style>
        body { 
            font-family: Arial, sans-serif; 
            margin: 20px; 
            background: linear-gradient(135deg, #1565C0 0%, #0D47A1 100%);
            color: white;
            min-height: 100vh;
        }
        .container {
            max-width: 800px;
            margin: 0 auto;
            background: rgba(255,255,255,0.95);
            color: #333;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.3);
        }
        .strain-card {
            border: 1px solid #ddd;
            border-radius: 8px;
            padding: 20px;
            margin: 10px 0;
            background: #f9f9f9;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        .strain-card:hover {
            background: #e3f2fd;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }
        .strain-title {
            font-size: 18px;
            font-weight: bold;
            color: #1565C0;
            margin-bottom: 8px;
        }
        .strain-scientific {
            font-style: italic;
            color: #666;
            margin-bottom: 10px;
        }
        .strain-properties {
            display: flex;
            gap: 8px;
            flex-wrap: wrap;
        }
        .property-chip {
            background: #1565C0;
            color: white;
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 12px;
        }
        .test-result {
            background: #d4edda;
            color: #155724;
            padding: 15px;
            border-radius: 5px;
            margin: 20px 0;
        }
        button {
            background: #1565C0;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            margin: 10px 0;
        }
        button:hover {
            background: #0D47A1;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üß¨ –¢–µ—Å—Ç –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ –¥–µ—Ç–∞–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏</h1>
        <p>–ö–ª–∏–∫–Ω–∏—Ç–µ –Ω–∞ –ª—é–±–æ–π —à—Ç–∞–º–º –Ω–∏–∂–µ, —á—Ç–æ–±—ã –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Å –ø–æ–¥—Ä–æ–±–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π:</p>
        
        <div class="test-result">
            ‚úÖ <strong>–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ:</strong> –ö–Ω–æ–ø–∫–∞ "–ü–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏" —Ç–µ–ø–µ—Ä—å –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Å –ø–æ–ª–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ —à—Ç–∞–º–º–µ
        </div>
        
        <button onclick="loadSampleStrains()">–ó–∞–≥—Ä—É–∑–∏—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–µ —à—Ç–∞–º–º—ã</button>
        
        <div id="strains-container"></div>
        
        <div id="test-results"></div>
    </div>

    <script>
        const API_BASE = 'http://localhost:3000/api';
        
        function log(message, type = 'info') {
            const container = document.getElementById('test-results');
            const div = document.createElement('div');
            div.className = 'test-result';
            div.innerHTML = `[${new Date().toLocaleTimeString()}] ${message}`;
            container.appendChild(div);
        }

        async function loadSampleStrains() {
            try {
                log('üîÑ –ó–∞–≥—Ä—É–∑–∫–∞ —à—Ç–∞–º–º–æ–≤ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è...');
                const response = await fetch(`${API_BASE}/strains/`);
                const data = await response.json();
                
                const container = document.getElementById('strains-container');
                container.innerHTML = '';
                
                const sampleStrains = data.results.slice(0, 5); // –ü–µ—Ä–≤—ã–µ 5 —à—Ç–∞–º–º–æ–≤
                
                sampleStrains.forEach(strain => {
                    const card = document.createElement('div');
                    card.className = 'strain-card';
                    card.onclick = () => showStrainDetails(strain);
                    
                    card.innerHTML = `
                        <div class="strain-title">${strain.full_name}</div>
                        <div class="strain-scientific">${strain.scientific_name}</div>
                        <div class="strain-properties">
                            <span class="property-chip">${strain.collection_code}</span>
                            <span class="property-chip">${strain.organism_type_display || strain.organism_type}</span>
                            ${strain.is_psychrophile ? '<span class="property-chip">‚ùÑÔ∏è –ü—Å–∏—Ö—Ä–æ—Ñ–∏–ª</span>' : ''}
                            ${strain.is_thermophile ? '<span class="property-chip">üî• –¢–µ—Ä–º–æ—Ñ–∏–ª</span>' : ''}
                            ${strain.is_halophile ? '<span class="property-chip">üßÇ –ì–∞–ª–æ—Ñ–∏–ª</span>' : ''}
                            ${strain.produces_antibiotics ? '<span class="property-chip">üíä –ê–Ω—Ç–∏–±–∏–æ—Ç–∏–∫–∏</span>' : ''}
                            ${strain.produces_enzymes ? '<span class="property-chip">‚ö° –§–µ—Ä–º–µ–Ω—Ç—ã</span>' : ''}
                            ${strain.has_genome_sequence ? '<span class="property-chip">üß¨ –ì–µ–Ω–æ–º</span>' : ''}
                        </div>
                        <p style="margin-top: 10px; color: #666; font-size: 14px;">
                            üìç ${strain.geographic_location || '–ú–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ –Ω–µ —É–∫–∞–∑–∞–Ω–æ'}
                        </p>
                    `;
                    
                    container.appendChild(card);
                });
                
                log(`‚úÖ –ó–∞–≥—Ä—É–∂–µ–Ω–æ ${sampleStrains.length} —à—Ç–∞–º–º–æ–≤ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è`);
                log('üí° –ö–ª–∏–∫–Ω–∏—Ç–µ –Ω–∞ –ª—é–±–æ–π —à—Ç–∞–º–º, —á—Ç–æ–±—ã —É–≤–∏–¥–µ—Ç—å –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Å –¥–µ—Ç–∞–ª—è–º–∏');
                
            } catch (error) {
                log(`‚ùå –û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏: ${error.message}`, 'error');
            }
        }

        function showStrainDetails(strain) {
            // –°–æ–∑–¥–∞–µ–º –ø—Ä–æ—Å—Ç–æ–µ –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏
            const modal = document.createElement('div');
            modal.style.cssText = `
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background: rgba(0,0,0,0.8);
                display: flex;
                justify-content: center;
                align-items: center;
                z-index: 1000;
            `;
            
            modal.innerHTML = `
                <div style="
                    background: white;
                    padding: 30px;
                    border-radius: 10px;
                    max-width: 600px;
                    max-height: 80vh;
                    overflow-y: auto;
                    color: #333;
                ">
                    <h2 style="color: #1565C0; margin-top: 0;">üß¨ ${strain.full_name}</h2>
                    <p style="font-style: italic; font-size: 18px; color: #666;">${strain.scientific_name}</p>
                    
                    <h3>üìä –û—Å–Ω–æ–≤–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è:</h3>
                    <p><strong>–†–æ–¥:</strong> ${strain.genus}</p>
                    <p><strong>–í–∏–¥:</strong> ${strain.species}</p>
                    <p><strong>–ö–æ–ª–ª–µ–∫—Ü–∏—è:</strong> ${strain.collection_code} - ${strain.collection_name}</p>
                    <p><strong>–¢–∏–ø –æ—Ä–≥–∞–Ω–∏–∑–º–∞:</strong> ${strain.organism_type_display || strain.organism_type}</p>
                    
                    <h3>üå°Ô∏è –§–∏–∑–∏–∫–æ-—Ö–∏–º–∏—á–µ—Å–∫–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:</h3>
                    <p><strong>–û–ø—Ç–∏–º–∞–ª—å–Ω–∞—è —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞:</strong> ${strain.optimal_temperature || '–ù–µ —É–∫–∞–∑–∞–Ω–∞'}¬∞C</p>
                    <p><strong>–î–∏–∞–ø–∞–∑–æ–Ω —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã:</strong> ${strain.temperature_range_min || '?'}¬∞C - ${strain.temperature_range_max || '?'}¬∞C</p>
                    <p><strong>–û–ø—Ç–∏–º–∞–ª—å–Ω—ã–π pH:</strong> ${strain.optimal_ph || '–ù–µ —É–∫–∞–∑–∞–Ω'}</p>
                    <p><strong>–î–∏–∞–ø–∞–∑–æ–Ω pH:</strong> ${strain.ph_range_min || '?'} - ${strain.ph_range_max || '?'}</p>
                    
                    <h3>üìç –õ–æ–∫–∞—Ü–∏—è:</h3>
                    <p><strong>–ò—Å—Ç–æ—á–Ω–∏–∫ –≤—ã–¥–µ–ª–µ–Ω–∏—è:</strong> ${strain.isolation_source}</p>
                    <p><strong>–ì–µ–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–æ–µ –ø–æ–ª–æ–∂–µ–Ω–∏–µ:</strong> ${strain.geographic_location}</p>
                    ${strain.latitude && strain.longitude ? 
                        `<p><strong>–ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã:</strong> ${parseFloat(strain.latitude).toFixed(4)}¬∞N, ${parseFloat(strain.longitude).toFixed(4)}¬∞E</p>` : 
                        '<p><strong>–ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã:</strong> –ù–µ —É–∫–∞–∑–∞–Ω—ã</p>'
                    }
                    ${strain.depth_meters ? `<p><strong>–ì–ª—É–±–∏–Ω–∞:</strong> ${strain.depth_meters} –º–µ—Ç—Ä–æ–≤</p>` : ''}
                    
                    <h3>üß¨ –ë–∏–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–µ —Å–≤–æ–π—Å—Ç–≤–∞:</h3>
                    <div style="display: flex; gap: 8px; flex-wrap: wrap; margin: 10px 0;">
                        ${strain.is_psychrophile ? '<span class="property-chip">‚ùÑÔ∏è –ü—Å–∏—Ö—Ä–æ—Ñ–∏–ª</span>' : ''}
                        ${strain.is_thermophile ? '<span class="property-chip">üî• –¢–µ—Ä–º–æ—Ñ–∏–ª</span>' : ''}
                        ${strain.is_halophile ? '<span class="property-chip">üßÇ –ì–∞–ª–æ—Ñ–∏–ª</span>' : ''}
                        ${strain.is_acidophile ? '<span class="property-chip">üçã –ê—Ü–∏–¥–æ—Ñ–∏–ª</span>' : ''}
                        ${strain.is_alkaliphile ? '<span class="property-chip">üß™ –ê–ª–∫–∞–ª–∏—Ñ–∏–ª</span>' : ''}
                        ${strain.is_barophile ? '<span class="property-chip">‚¨áÔ∏è –ë–∞—Ä–æ—Ñ–∏–ª</span>' : ''}
                        ${strain.produces_antibiotics ? '<span class="property-chip">üíä –ê–Ω—Ç–∏–±–∏–æ—Ç–∏–∫–∏</span>' : ''}
                        ${strain.produces_enzymes ? '<span class="property-chip">‚ö° –§–µ—Ä–º–µ–Ω—Ç—ã</span>' : ''}
                        ${strain.produces_metabolites ? '<span class="property-chip">üß™ –ú–µ—Ç–∞–±–æ–ª–∏—Ç—ã</span>' : ''}
                        ${strain.nitrogen_fixation ? '<span class="property-chip">üå± –ê–∑–æ—Ç—Ñ–∏–∫—Å–∞—Ü–∏—è</span>' : ''}
                        ${strain.has_genome_sequence ? '<span class="property-chip">üß¨ –ì–µ–Ω–æ–º —Å–µ–∫–≤–µ–Ω–∏—Ä–æ–≤–∞–Ω</span>' : ''}
                        ${strain.is_baikal_endemic ? '<span class="property-chip">üèîÔ∏è –ë–∞–π–∫–∞–ª—å—Å–∫–∏–π —ç–Ω–¥–µ–º–∏–∫</span>' : ''}
                    </div>
                    
                    ${strain.description ? `<h3>üìù –û–ø–∏—Å–∞–Ω–∏–µ:</h3><p>${strain.description}</p>` : ''}
                    ${strain.special_properties ? `<h3>‚ú® –û—Å–æ–±—ã–µ —Å–≤–æ–π—Å—Ç–≤–∞:</h3><p>${strain.special_properties}</p>` : ''}
                    
                    <div style="margin-top: 30px; text-align: center;">
                        <button onclick="this.parentElement.parentElement.parentElement.remove()" 
                                style="background: #dc3545; margin-right: 10px;">–ó–∞–∫—Ä—ã—Ç—å</button>
                        <button onclick="exportStrain('${strain.full_name}')" 
                                style="background: #28a745;">–≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö</button>
                    </div>
                </div>
            `;
            
            document.body.appendChild(modal);
            log(`‚úÖ –û—Ç–∫—Ä—ã—Ç–æ –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è —à—Ç–∞–º–º–∞: ${strain.full_name}`);
        }

        function exportStrain(strainName) {
            log(`üì• –§—É–Ω–∫—Ü–∏—è —ç–∫—Å–ø–æ—Ä—Ç–∞ –≤—ã–∑–≤–∞–Ω–∞ –¥–ª—è —à—Ç–∞–º–º–∞: ${strainName}`);
            alert(`–≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö —à—Ç–∞–º–º–∞ ${strainName} (—Ñ—É–Ω–∫—Ü–∏—è –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ)`);
        }

        // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
        window.onload = () => {
            log('üöÄ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ –∑–∞–ø—É—â–µ–Ω–æ');
            log('üí° –ù–∞–∂–º–∏—Ç–µ "–ó–∞–≥—Ä—É–∑–∏—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–µ —à—Ç–∞–º–º—ã" –¥–ª—è –Ω–∞—á–∞–ª–∞ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è');
        };
    </script>
</body>
</html> 